import { useState } from "react"; // Ajouter useState pour gérer l'état du slider
import Nav from "../Templates/Nav.js";
import Contact from "../Templates/Contact.js";
import Footer from "../Templates/Footer.js";
import nadir from "../../../img/nadir.png";
import quentin from "../../../img/quentin.png";
import adrien from "../../../img/adrien.png";
import maxime from "../../../img/maxime.png";
import CountUp from "react-countup";
import { useInView } from "react-intersection-observer";

function AgenceComp() {
  const [activeIndex, setActiveIndex] = useState(0); // Ajouter l'état actif pour le slider
  const [teamMembers, setTeamMembers] = useState([
    {
      name: "Nadir Oubah - CEO",
      img: nadir,
      quote:
        "J'ai toujours voulu lancer ma propre agence. Qomit c'est tout simplement un accompagnement personnalisé.",
    },
    {
      name: "Quentin Boulay - CTO",
      img: quentin,
      quote: "Je suis passionné par les technologies du web depuis toujours.",
    },
    {
      name: "Adrien Rossignol - Développeur front-end",
      img: adrien,
      quote:
        "Je suis très curieux et j'aime apprendre de nouvelles technologies.",
    },
    {
      name: "Maxime Balluais - Développeur back-end",
      img: maxime,
      quote:
        "Je suis à l'écoute des besoins des clients pour développer des solutions efficaces.",
    },
  ]); // Ajouter les membres de l'équipe avec leurs images et citations

  const handlePrev = () => {
    setActiveIndex((activeIndex - 1 + teamMembers.length) % teamMembers.length); // Gérer le clic sur la flèche précédente du slider
  };

  const handleNext = () => {
    setActiveIndex((activeIndex + 1) % teamMembers.length); // Gérer le clic sur la flèche suivante du slider
  };

  const [ref, inView] = useInView({ threshold: 0.5 });

  return (
    <div className="body-agence">
      <Nav />
      <div className="hero-container-agence">
        <h1>
          L'agence<span>.</span>
        </h1>
        <a href="#team">
          <div className="scroll-down d-flex align-items-center justify-content-center">
            <svg
              width="40"
              height="40"
              viewBox="0 0 35 49"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M34.3663 32.9828C34.7467 32.6691 34.976 32.2119 34.9982 31.7229C35.0207 31.2338 34.834 30.7578 34.4837 30.4116C34.1335 30.0657 33.6523 29.8808 33.1576 29.903C32.6626 29.9253 32.2001 30.152 31.8831 30.528L19.1993 43.0527L19.1994 1.6554C19.1668 1.05369 18.8235 0.510857 18.2903 0.219089C17.7575 -0.0730305 17.11 -0.0730306 16.5769 0.219089C16.0438 0.510866 15.7005 1.05367 15.6683 1.6554L15.6683 43.0527L2.99867 30.5087C2.66403 30.193 2.21956 30.017 1.75708 30.017C1.2946 30.017 0.849829 30.193 0.515486 30.5087C0.18534 30.8341 2.4476e-06 31.2755 2.42747e-06 31.7361C2.40733e-06 32.1967 0.185339 32.6385 0.515486 32.9635L16.2092 48.4777L16.2089 48.4777C16.5338 48.8113 16.9821 49 17.4505 49C17.9192 49 18.3675 48.8113 18.6921 48.4777L34.3663 32.9828Z"
                fill="black"
              />
            </svg>
          </div>
        </a>
      </div>
      <div id="team" className="card-container">
        <div className="tag mb-5">
          <p className="font-size-22">Team</p>
        </div>

        <h2 className="text-center mb-5 font-size-78">
          Confiez votre projet web sur mesure avec Qomit
        </h2>

        <div className="team-container row">
          <div className="col col-12 col-lg-6">
            <h3 className="text-center font-size-55">
              Envie de connaître l'équipe de Qomit ?
            </h3>
            <p className="text-center font-size-28">
              {teamMembers[activeIndex].name}{" "}
              {/* Afficher le nom du membre de l'équipe actif */}
            </p>
            <div className="custom-arrows mt-5 d-flex justify-content-center">
              <div
                className="custom-arrow d-flex justify-content-center align-items-center mr-5 custom-arrow-prev"
                onClick={handlePrev}
              >
                <svg
                  width="27"
                  height="19"
                  viewBox="0 0 27 19"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M8.82581 18.656C8.99866 18.8625 9.25058 18.987 9.52005 18.999C9.78952 19.0112 10.0518 18.9099 10.2426 18.7197C10.4332 18.5296 10.5351 18.2684 10.5228 17.9998C10.5106 17.7311 10.3856 17.48 10.1784 17.308L3.2771 10.4225L26.0878 10.4225C26.4194 10.4048 26.7185 10.2185 26.8793 9.92903C27.0402 9.6398 27.0402 9.28829 26.8793 8.9989C26.7185 8.70948 26.4194 8.52311 26.0878 8.50562L3.2771 8.50562L10.1891 1.62785C10.3631 1.44618 10.46 1.2049 10.46 0.953841C10.46 0.702782 10.3631 0.461333 10.1891 0.279831C10.0098 0.100609 9.76656 -1.5066e-06 9.51275 -1.52878e-06C9.25894 -1.55097e-06 9.01551 0.100609 8.83643 0.279831L0.287778 8.7993L0.287778 8.79911C0.10398 8.97551 4.66979e-06 9.21886 4.64756e-06 9.47312C4.62532e-06 9.72756 0.10398 9.97092 0.287778 10.1471L8.82581 18.656Z"
                    fill="black"
                  />
                </svg>
              </div>
              <div
                className="custom-arrow d-flex justify-content-center align-items-center ml-5 custom-arrow-next"
                onClick={handleNext}
              >
                <svg
                  width="27"
                  height="19"
                  viewBox="0 0 27 19"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M18.1742 0.344013C18.0013 0.137521 17.7494 0.0130264 17.48 0.000990531C17.2105 -0.0112336 16.9482 0.0901328 16.7574 0.280261C16.5668 0.470389 16.4649 0.731606 16.4772 1.00015C16.4894 1.26889 16.6144 1.51996 16.8216 1.69202L23.7229 8.5775H0.912159C0.580604 8.59517 0.281493 8.78154 0.120723 9.07097C-0.0402409 9.3602 -0.0402409 9.71171 0.120723 10.0011C0.281498 10.2905 0.580594 10.4769 0.912159 10.4944H23.7229L16.8109 17.3722C16.6369 17.5538 16.54 17.7951 16.54 18.0462C16.54 18.2972 16.6369 18.5387 16.8109 18.7202C16.9902 18.8994 17.2334 19 17.4873 19C17.7411 19 17.9845 18.8994 18.1636 18.7202L26.7122 10.2007V10.2009C26.896 10.0245 27 9.78114 27 9.52688C27 9.27243 26.896 9.02908 26.7122 8.85287L18.1742 0.344013Z"
                    fill="black"
                  />
                </svg>
              </div>
            </div>
          </div>
          <div className="presentation text-center col col-12 col-lg-6">
            <img
              className="mb-5"
              src={teamMembers[activeIndex].img}
              alt="Photo de profil"
            />
            <p className="font-size-22">{teamMembers[activeIndex].quote}</p>
            <div className="d-flex mt-5 justify-content-center align-items-center">
              <a href="/">
                <box-icon
                  name="linkedin"
                  type="logo"
                  color="#5959eb"
                  style={{
                    marginRight: "20px",
                    width: "30px",
                    height: "30px",
                  }}
                ></box-icon>
              </a>
              <a href="/">
                <box-icon
                  name="instagram"
                  type="logo"
                  color="#5959eb"
                  style={{ width: "30px", height: "30px" }}
                ></box-icon>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div className="insights-container">
        <h2 className="font-size-78">
          Qomit
          <br />
          en <span>chiffre</span>
        </h2>

        <div ref={ref} className="insights">
          <div className="row">
            <div className="col col-lg-4 col-sm-12 col-xs-12 text-center">
              <div className="icon-container mb-5">
                <svg
                  width="96"
                  height="96"
                  viewBox="0 0 96 96"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_1257_1417)">
                    <path
                      d="M48 0C38.5065 0 29.2262 2.81515 21.3326 8.08946C13.4391 13.3638 7.28681 20.8603 3.6538 29.6312C0.0207977 38.4021 -0.929762 48.0533 0.922328 57.3643C2.77442 66.6754 7.34598 75.2282 14.0589 81.9411C20.7718 88.6541 29.3246 93.2256 38.6357 95.0777C47.9468 96.9298 57.598 95.9792 66.3688 92.3462C75.1397 88.7132 82.6363 82.5609 87.9106 74.6674C93.1849 66.7738 96 57.4935 96 48C95.9863 35.2738 90.9247 23.0728 81.9259 14.0741C72.9272 5.07531 60.7262 0.0137643 48 0ZM82.588 28H69.704C66.8199 21.3159 63.0224 15.0643 58.42 9.424C68.606 12.1957 77.2893 18.8699 82.588 28ZM66 48C65.9672 52.0726 65.3254 56.1173 64.096 60H31.904C30.6746 56.1173 30.0329 52.0726 30 48C30.0329 43.9274 30.6746 39.8827 31.904 36H64.096C65.3254 39.8827 65.9672 43.9274 66 48ZM35.112 68H60.888C57.493 74.7029 53.1526 80.8834 48 86.352C42.8455 80.8849 38.505 74.7042 35.112 68ZM35.112 28C38.5071 21.2971 42.8474 15.1166 48 9.648C53.1545 15.1151 57.4951 21.2958 60.888 28H35.112ZM37.6 9.424C32.9907 15.0631 29.1864 21.3148 26.296 28H13.412C18.7154 18.8657 27.4067 12.191 37.6 9.424ZM9.84402 36H23.6C22.5631 39.9166 22.0255 43.9486 22 48C22.0255 52.0515 22.5631 56.0834 23.6 60H9.84402C7.38538 52.1889 7.38538 43.8111 9.84402 36ZM13.412 68H26.296C29.1864 74.6852 32.9907 80.9369 37.6 86.576C27.4067 83.809 18.7154 77.1343 13.412 68ZM58.42 86.576C63.0224 80.9357 66.8199 74.6841 69.704 68H82.588C77.2893 77.1301 68.606 83.8043 58.42 86.576ZM86.156 60H72.4C73.437 56.0834 73.9746 52.0515 74 48C73.9746 43.9486 73.437 39.9166 72.4 36H86.148C88.6067 43.8111 88.6067 52.1889 86.148 60H86.156Z"
                      fill="#242424"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_1257_1417">
                      <rect width="96" height="96" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </div>
              <p className="font-size-32">Création de sites</p>
              <CountUp
                start={inView ? 0 : 59}
                end={59}
                duration={5.5}
                prefix="+"
                suffix="%"
                redraw={true}
                className="font-size-80 percentage"
              />
              <p className="font-size-24">par rapport à 2022</p>
            </div>
            <div className="col col-lg-4 col-sm-12 col-xs-12 text-center">
              <div className="icon-container mb-5">
                <svg
                  width="92"
                  height="92"
                  viewBox="0 0 92 92"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_1257_1424)">
                    <path
                      d="M46 61.3333C42.9674 61.3333 40.0028 60.4341 37.4813 58.7492C34.9597 57.0644 32.9944 54.6696 31.8338 51.8678C30.6733 49.066 30.3696 45.983 30.9613 43.0086C31.5529 40.0342 33.0133 37.3021 35.1577 35.1577C37.3021 33.0133 40.0342 31.5529 43.0086 30.9613C45.983 30.3697 49.066 30.6733 51.8678 31.8339C54.6696 32.9944 57.0644 34.9597 58.7492 37.4813C60.434 40.0028 61.3333 42.9674 61.3333 46C61.3333 50.0667 59.7179 53.9668 56.8423 56.8423C53.9667 59.7179 50.0667 61.3333 46 61.3333ZM46 38.3333C44.4837 38.3333 43.0014 38.783 41.7406 39.6254C40.4799 40.4678 39.4972 41.6652 38.9169 43.0661C38.3367 44.467 38.1848 46.0085 38.4806 47.4957C38.7765 48.9829 39.5066 50.349 40.5788 51.4212C41.6511 52.4934 43.0171 53.2235 44.5043 53.5194C45.9915 53.8152 47.533 53.6634 48.9339 53.0831C50.3348 52.5028 51.5322 51.5202 52.3746 50.2594C53.217 48.9986 53.6667 47.5163 53.6667 46C53.6667 43.9667 52.8589 42.0166 51.4212 40.5789C49.9834 39.1411 48.0333 38.3333 46 38.3333ZM69 88.1667C69 82.0667 66.5768 76.2166 62.2635 71.9032C57.9501 67.5899 52.1 65.1667 46 65.1667C39.9 65.1667 34.0499 67.5899 29.7365 71.9032C25.4232 76.2166 23 82.0667 23 88.1667C23 89.1833 23.4039 90.1584 24.1228 90.8773C24.8416 91.5961 25.8167 92 26.8333 92C27.85 92 28.825 91.5961 29.5439 90.8773C30.2628 90.1584 30.6667 89.1833 30.6667 88.1667C30.6667 84.1 32.2821 80.1999 35.1577 77.3244C38.0333 74.4488 41.9333 72.8333 46 72.8333C50.0667 72.8333 53.9667 74.4488 56.8423 77.3244C59.7179 80.1999 61.3333 84.1 61.3333 88.1667C61.3333 89.1833 61.7372 90.1584 62.4561 90.8773C63.175 91.5961 64.15 92 65.1667 92C66.1833 92 67.1584 91.5961 67.8772 90.8773C68.5961 90.1584 69 89.1833 69 88.1667ZM69 30.6667C65.9674 30.6667 63.0028 29.7674 60.4813 28.0825C57.9597 26.3977 55.9944 24.003 54.8338 21.2012C53.6733 18.3994 53.3696 15.3163 53.9613 12.342C54.5529 9.36758 56.0133 6.63544 58.1577 4.49104C60.3021 2.34663 63.0342 0.886273 66.0086 0.294633C68.983 -0.297007 72.066 0.00664364 74.8678 1.16719C77.6696 2.32773 80.0643 4.29304 81.7492 6.8146C83.434 9.33615 84.3333 12.3007 84.3333 15.3333C84.3333 19.4 82.7179 23.3001 79.8423 26.1756C76.9667 29.0512 73.0667 30.6667 69 30.6667ZM69 7.66667C67.4837 7.66667 66.0014 8.11632 64.7406 8.95874C63.4798 9.80116 62.4972 10.9985 61.9169 12.3994C61.3367 13.8003 61.1848 15.3418 61.4806 16.829C61.7765 18.3162 62.5066 19.6823 63.5788 20.7545C64.6511 21.8267 66.0171 22.5569 67.5043 22.8527C68.9915 23.1485 70.533 22.9967 71.9339 22.4164C73.3348 21.8361 74.5322 20.8535 75.3746 19.5927C76.217 18.3319 76.6667 16.8497 76.6667 15.3333C76.6667 13.3 75.8589 11.35 74.4212 9.91219C72.9834 8.47441 71.0333 7.66667 69 7.66667ZM92 57.5C91.9939 51.4019 89.5687 45.5553 85.2567 41.2433C80.9447 36.9313 75.0981 34.5061 69 34.5C67.9833 34.5 67.0083 34.9039 66.2894 35.6228C65.5705 36.3417 65.1667 37.3167 65.1667 38.3333C65.1667 39.35 65.5705 40.325 66.2894 41.0439C67.0083 41.7628 67.9833 42.1667 69 42.1667C73.0667 42.1667 76.9667 43.7821 79.8423 46.6577C82.7179 49.5333 84.3333 53.4334 84.3333 57.5C84.3333 58.5167 84.7372 59.4917 85.4561 60.2106C86.175 60.9295 87.15 61.3333 88.1667 61.3333C89.1833 61.3333 90.1584 60.9295 90.8772 60.2106C91.5961 59.4917 92 58.5167 92 57.5ZM23 30.6667C19.9674 30.6667 17.0028 29.7674 14.4813 28.0825C11.9597 26.3977 9.99439 24.003 8.83385 21.2012C7.6733 18.3994 7.36965 15.3163 7.96129 12.342C8.55293 9.36758 10.0133 6.63544 12.1577 4.49104C14.3021 2.34663 17.0342 0.886273 20.0086 0.294633C22.983 -0.297007 26.066 0.00664364 28.8678 1.16719C31.6696 2.32773 34.0644 4.29304 35.7492 6.8146C37.434 9.33615 38.3333 12.3007 38.3333 15.3333C38.3333 19.4 36.7179 23.3001 33.8423 26.1756C30.9667 29.0512 27.0667 30.6667 23 30.6667ZM23 7.66667C21.4837 7.66667 20.0014 8.11632 18.7406 8.95874C17.4799 9.80116 16.4972 10.9985 15.9169 12.3994C15.3367 13.8003 15.1848 15.3418 15.4806 16.829C15.7765 18.3162 16.5066 19.6823 17.5788 20.7545C18.6511 21.8267 20.0171 22.5569 21.5043 22.8527C22.9915 23.1485 24.533 22.9967 25.9339 22.4164C27.3348 21.8361 28.5322 20.8535 29.3746 19.5927C30.217 18.3319 30.6667 16.8497 30.6667 15.3333C30.6667 13.3 29.8589 11.35 28.4212 9.91219C26.9834 8.47441 25.0333 7.66667 23 7.66667ZM7.66667 57.5C7.66667 53.4334 9.28214 49.5333 12.1577 46.6577C15.0333 43.7821 18.9333 42.1667 23 42.1667C24.0167 42.1667 24.9917 41.7628 25.7106 41.0439C26.4295 40.325 26.8333 39.35 26.8333 38.3333C26.8333 37.3167 26.4295 36.3417 25.7106 35.6228C24.9917 34.9039 24.0167 34.5 23 34.5C16.9019 34.5061 11.0553 36.9313 6.74327 41.2433C2.43125 45.5553 0.00608898 51.4019 0 57.5C0 58.5167 0.403868 59.4917 1.12276 60.2106C1.84165 60.9295 2.81667 61.3333 3.83333 61.3333C4.85 61.3333 5.82502 60.9295 6.54391 60.2106C7.2628 59.4917 7.66667 58.5167 7.66667 57.5Z"
                      fill="#242424"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_1257_1424">
                      <rect width="92" height="92" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </div>
              <p className="font-size-32">Clients accompagnés</p>
              <CountUp
                start={inView ? 0 : 2000}
                end={2000}
                duration={5.5}
                prefix="+"
                redraw={true}
                className="font-size-80 percentage"
              />
              <p className="font-size-24">en 2023</p>
            </div>
            <div className="col col-lg-4 col-sm-12 col-xs-12 text-center">
              <div className="icon-container mb-5">
                <svg
                  width="85"
                  height="85"
                  viewBox="0 0 85 85"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_1257_1427)">
                    <path
                      d="M61.9787 6.78937C57.9906 6.8514 54.0895 7.96468 50.6693 10.0168C47.2492 12.0689 44.431 14.9872 42.4996 18.4769C40.5681 14.9872 37.75 12.0689 34.3298 10.0168C30.9096 7.96468 27.0085 6.8514 23.0204 6.78937C16.6629 7.06558 10.6731 9.84673 6.35963 14.5252C2.04615 19.2037 -0.240382 25.3991 -0.000432553 31.7581C-0.000432553 47.8621 16.95 65.45 31.1662 77.3748C34.3403 80.0421 38.3535 81.5045 42.4996 81.5045C46.6456 81.5045 50.6588 80.0421 53.8329 77.3748C68.0491 65.45 84.9996 47.8621 84.9996 31.7581C85.2395 25.3991 82.953 19.2037 78.6395 14.5252C74.326 9.84673 68.3362 7.06558 61.9787 6.78937ZM49.2819 71.956C47.3835 73.5547 44.9814 74.4313 42.4996 74.4313C40.0177 74.4313 37.6157 73.5547 35.7173 71.956C17.5202 56.6879 7.0829 42.0396 7.0829 31.7581C6.84079 27.2769 8.38045 22.8817 11.3661 19.5312C14.3517 16.1807 18.541 14.1467 23.0204 13.8727C27.4998 14.1467 31.6891 16.1807 34.6747 19.5312C37.6604 22.8817 39.2 27.2769 38.9579 31.7581C38.9579 32.6974 39.331 33.5983 39.9952 34.2625C40.6594 34.9266 41.5603 35.2998 42.4996 35.2998C43.4389 35.2998 44.3397 34.9266 45.0039 34.2625C45.6681 33.5983 46.0412 32.6974 46.0412 31.7581C45.7991 27.2769 47.3388 22.8817 50.3244 19.5312C53.31 16.1807 57.4994 14.1467 61.9787 13.8727C66.4581 14.1467 70.6475 16.1807 73.6331 19.5312C76.6187 22.8817 78.1583 27.2769 77.9162 31.7581C77.9162 42.0396 67.4789 56.6879 49.2819 71.9419V71.956Z"
                      fill="black"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_1257_1427">
                      <rect width="85" height="85" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </div>
              <p className="font-size-32">Clients satisfaits</p>
              <CountUp
                start={inView ? 0 : 250}
                end={250}
                duration={5.5}
                redraw={true}
                className="font-size-80 percentage"
              />
              <p className="font-size-24">Avis Google</p>
            </div>
          </div>
        </div>
      </div>

      <Contact />
      <Footer />
    </div>
  );
}

export default AgenceComp;
